<!-- 首页模板 -->
<view class="container">
  <!-- 游客模式提示 -->
  <view class="tourist-tip" wx:if="{{showTouristTip}}">
    <view class="tip-content">
      <view class="tip-icon">⚠️</view>
      <view class="tip-text">游客模式：部分功能受限，请部署到真实环境使用完整功能</view>
    </view>
    <view class="tip-close" bindtap="closeTouristTip">✕</view>
  </view>

  <!-- 头部 -->
  <view class="header">
    <view class="logo">🪸</view>
    <view class="title">珊瑚去水印</view>
    <view class="subtitle">免费视频去水印工具</view>
  </view>

  <!-- 输入区域 -->
  <view class="input-section">
    <view class="input-wrapper">
      <input 
        class="url-input" 
        placeholder="粘贴视频分享链接" 
        value="{{inputUrl}}"
        bindinput="onInputChange"
        focus
      />
      <view class="input-actions">
        <view class="clear-btn" bindtap="onClearInput" wx:if="{{inputUrl}}">✕</view>
        <view class="paste-btn" bindtap="onPasteClick">粘贴</view>
      </view>
    </view>
    
    <button 
      class="process-btn {{isProcessing ? 'loading' : ''}}" 
      bindtap="onProcessClick"
      disabled="{{isProcessing}}"
    >
      <block wx:if="{{isProcessing}}">
        <view class="loading-icon">⏳</view>
        <text>处理中...</text>
      </block>
      <block wx:else>
        <text>去水印</text>
      </block>
    </button>
  </view>

  <!-- 平台支持 -->
  <view class="platform-section">
    <view class="section-title">支持平台</view>
    <view class="platform-list">
      <view class="platform-item" wx:for="{{platforms}}" wx:key="id">
        <view class="platform-icon">
          <text wx:if="{{item.id === 'douyin'}}">📱</text>
          <text wx:elif="{{item.id === 'kuaishou'}}">⚡</text>
          <text wx:elif="{{item.id === 'bilibili'}}">📺</text>
          <text wx:elif="{{item.id === 'tiktok'}}">🎭</text>
          <text wx:else>🎬</text>
        </view>
        <view class="platform-name">{{item.name}}</view>
        <view class="platform-risk {{item.risk}}">
          <text wx:if="{{item.risk === 'high'}}">高风险</text>
          <text wx:elif="{{item.risk === 'medium'}}">中风险</text>
          <text wx:else>低风险</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 使用说明 -->
  <view class="guide-section">
    <view class="section-title">使用说明</view>
    <view class="guide-steps">
      <view class="guide-step">
        <view class="step-number">1</view>
        <view class="step-content">
          <view class="step-title">复制链接</view>
          <view class="step-desc">在短视频App中复制分享链接</view>
        </view>
      </view>
      
      <view class="guide-step">
        <view class="step-number">2</view>
        <view class="step-content">
          <view class="step-title">粘贴链接</view>
          <view class="step-desc">点击"粘贴"按钮或手动粘贴</view>
        </view>
      </view>
      
      <view class="guide-step">
        <view class="step-number">3</view>
        <view class="step-content">
          <view class="step-title">去除水印</view>
          <view class="step-desc">点击"去水印"按钮处理视频</view>
        </view>
      </view>
      
      <view class="guide-step">
        <view class="step-number">4</view>
        <view class="step-content">
          <view class="step-title">保存视频</view>
          <view class="step-desc">下载无水印视频到相册</view>
        </view>
      </view>
    </view>
  </view>

  <!-- 免责声明 -->
  <view class="disclaimer">
    <view class="disclaimer-title">⚠️ 免责声明</view>
    <view class="disclaimer-content">
      本工具仅供技术学习研究使用，严禁商业用途。用户需自行承担使用风险和法律责任，请确保您有权使用相关内容。
    </view>
  </view>
  
  <!-- 游客模式说明 -->
  <view class="tourist-note" wx:if="{{isTouristMode}}">
    <view class="note-title">📝 游客模式说明</view>
    <view class="note-content">
      当前处于微信开发者工具的游客模式，无法使用云开发功能。请在正式环境中部署并配置云环境ID后使用完整功能。
    </view>
  </view>
</view>